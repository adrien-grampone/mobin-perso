{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/adriengrampone/Documents/A&F/mobin/frontend/pages/auth/actualites/index.js\",\n    _this = this;\n\nimport { Container, Box, Grid } from '@material-ui/core';\nimport { Layout, Text, DownloadDocumentSection } from '../../../components';\n\nvar PrivateNews = function PrivateNews(_ref) {\n  var _ref$docs = _ref.docs,\n      docs = _ref$docs === void 0 ? [] : _ref$docs;\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      mt: 7,\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"lg\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            mb: 2,\n            children: /*#__PURE__*/_jsxDEV(Text, {\n              size: \"h4\",\n              letterspacing: \"2px\",\n              bold: true,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"#e95e2e\"\n                },\n                children: \"Actualit\\xE9s\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 16,\n                columnNumber: 33\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 15,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 14,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(Box, {\n          mb: 2,\n          mt: 4,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 10,\n            children: docs && docs.map(function (doc, index) {\n              return /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                md: 6,\n                children: /*#__PURE__*/_jsxDEV(DownloadDocumentSection, {\n                  doc: doc\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 26,\n                  columnNumber: 41\n                }, _this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 25,\n                columnNumber: 37\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 9\n  }, _this);\n};\n\n_c = PrivateNews;\nexport var __N_SSP = true;\nexport default PrivateNews;\n\nvar _c;\n\n$RefreshReg$(_c, \"PrivateNews\");","map":{"version":3,"sources":["/Users/adriengrampone/Documents/A&F/mobin/frontend/pages/auth/actualites/index.js"],"names":["Container","Box","Grid","Layout","Text","DownloadDocumentSection","PrivateNews","docs","color","map","doc","index"],"mappings":";;;;;AAAA,SAASA,SAAT,EAAoBC,GAApB,EAAyBC,IAAzB,QAAqC,mBAArC;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,uBAAvB,QAAsD,qBAAtD;;AAKA,IAAMC,WAAW,GAAG,SAAdA,WAAc,OAAmB;AAAA,uBAAhBC,IAAgB;AAAA,MAAhBA,IAAgB,0BAAT,EAAS;AAEnC,sBACI,QAAC,MAAD;AAAA,2BACI,QAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAA,6BACI,QAAC,SAAD;AAAW,QAAA,QAAQ,EAAC,IAApB;AAAA,gCACI,QAAC,IAAD;AAAM,UAAA,SAAS,MAAf;AAAA,iCACI,QAAC,GAAD;AAAK,YAAA,EAAE,EAAE,CAAT;AAAA,mCACI,QAAC,IAAD;AAAM,cAAA,IAAI,EAAC,IAAX;AAAgB,cAAA,aAAa,EAAC,KAA9B;AAAoC,cAAA,IAAI,MAAxC;AAAA,qCACI;AAAM,gBAAA,KAAK,EAAE;AAAEC,kBAAAA,KAAK,EAAE;AAAT,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,iBADJ,eASI,QAAC,GAAD;AAAK,UAAA,EAAE,EAAE,CAAT;AAAY,UAAA,EAAE,EAAE,CAAhB;AAAA,iCACI,QAAC,IAAD;AAAM,YAAA,SAAS,MAAf;AAAgB,YAAA,OAAO,EAAE,EAAzB;AAAA,sBAEQD,IAAI,IAAIA,IAAI,CAACE,GAAL,CAAS,UAACC,GAAD,EAAMC,KAAN;AAAA,kCACb,QAAC,IAAD;AAAkB,gBAAA,IAAI,MAAtB;AAAuB,gBAAA,EAAE,EAAE,EAA3B;AAA+B,gBAAA,EAAE,EAAE,CAAnC;AAAA,uCACI,QAAC,uBAAD;AAAyB,kBAAA,GAAG,EAAED;AAA9B;AAAA;AAAA;AAAA;AAAA;AADJ,iBAAWC,KAAX;AAAA;AAAA;AAAA;AAAA,uBADa;AAAA,aAAT;AAFhB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,iBATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,WADJ;AA4BH,CA9BD;;KAAML,W;;AAmEN,eAAeA,WAAf","sourcesContent":["import { Container, Box, Grid } from '@material-ui/core'\nimport { Layout, Text, DownloadDocumentSection } from '../../../components'\nimport { getResources, isTokenValid } from '../../../utils'\nimport Cookies from 'cookies'\n\n\nconst PrivateNews = ({ docs = [] }) => {\n\n    return (\n        <Layout>\n            <Box mt={7}>\n                <Container maxWidth=\"lg\">\n                    <Grid container>\n                        <Box mb={2}>\n                            <Text size=\"h4\" letterspacing=\"2px\" bold>\n                                <span style={{ color: \"#e95e2e\" }}>Actualités</span>\n                            </Text>\n                        </Box>\n                    </Grid>\n\n                    <Box mb={2} mt={4}>\n                        <Grid container spacing={10}>\n                            {\n                                docs && docs.map((doc, index) => (\n                                    <Grid key={index} item xs={12} md={6}>\n                                        <DownloadDocumentSection doc={doc} />\n                                    </Grid>\n                                ))\n                            }\n                        </Grid>\n                    </Box>\n\n                </Container>\n            </Box>\n        </Layout>\n    )\n}\n\n\nexport const getServerSideProps = async (ctx) => {\n    const req = ctx.req ? ctx.req : null\n    if (req) {\n        const cookies = new Cookies(ctx.req, ctx.res)\n        const token = cookies.get('token')\n        if (token) {\n            const isTokValid = isTokenValid(token)\n            if (isTokValid) {\n                const res = await fetch(getResources)\n                const resources = await res.json()\n                const docs = resources.filter(doc => doc?.thematique?.titre === \"Actualités\").sort((a, b) => new Date(b.created_at) - new Date(a.created_at))\n\n                return {\n                    props: { docs }\n                };\n            } else {\n                ctx.res.writeHead(302, { Location: '/' })\n                ctx.res.end()\n                return { props: {} }\n            }\n\n\n        } else {\n            ctx.res.writeHead(302, { Location: '/' })\n            ctx.res.end()\n            return { props: {} }\n        }\n    } else {\n\n    }\n}\n\n\n\nexport default PrivateNews"]},"metadata":{},"sourceType":"module"}