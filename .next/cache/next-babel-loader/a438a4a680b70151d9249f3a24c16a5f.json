{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/adriengrampone/Documents/A&F/mobin/frontend/components/homepage/newsletter/NewsletterSection.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { Container, Grid, Box, Button, FormControl, OutlinedInput, InputLabel } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Title, Text } from '../../global';\nimport { createContactEmail } from '../../../src/services/sendEmail';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    grid: {\n      textAlign: 'center'\n    },\n    box: {\n      border: \"2px \".concat(theme.palette.orange.main, \" solid\"),\n      borderRadius: '10px',\n      padding: '2em',\n      backgroundColor: theme.palette.background[\"default\"]\n    },\n    textField: {\n      color: theme.palette.orange.main\n    },\n    form: {\n      marginTop: '1em'\n    },\n    formGrid: {\n      textAlign: 'center',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center'\n    },\n    btn: {\n      fontWeight: 'bold',\n      color: '#2699b0',\n      borderColor: theme.palette.orange.main,\n      '&:hover': {\n        backgroundColor: theme.palette.golden.main,\n        color: '#fff',\n        borderColor: theme.palette.golden.main\n      }\n    },\n    greyBox: {\n      marginTop: '1em',\n      backgroundColor: theme.palette.gray.main,\n      borderRadius: '10px',\n      padding: '4em'\n    }\n  };\n});\n\nvar FiguresSection = function FiguresSection() {\n  _s();\n\n  var classes = useStyles();\n\n  var _useState = useState(''),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(null),\n      errorMessage = _useState2[0],\n      setErrorMessage = _useState2[1];\n\n  var validateEmail = function validateEmail(email) {\n    var re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  var handleClick = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var variables, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setErrorMessage(null);\n\n              if (validateEmail(email)) {\n                _context.next = 4;\n                break;\n              }\n\n              setErrorMessage('Merci de saisir une adresse email valide.');\n              return _context.abrupt(\"return\");\n\n            case 4:\n              variables = {\n                email: email\n              };\n              _context.next = 7;\n              return createContactEmail(variables);\n\n            case 7:\n              response = _context.sent;\n\n              if (response) {\n                setEmail('');\n                alert('Votre email a été enregistré !');\n              } else {\n                alert(\"Une erreur s'est produite.\");\n              }\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleClick() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      className: classes.greyBox,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 12,\n          className: classes.grid,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            className: classes.box,\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              mb: 3,\n              children: /*#__PURE__*/_jsxDEV(Title, {\n                color: \"#2699b0\",\n                content: \"Vous souhaitez \\xEAtre tenu.e au courant des actualit\\xE9s du r\\xE9seau ?\",\n                size: \"h6\",\n                bold: true,\n                letterspacing: \"2px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Title, {\n              color: \"#e95e2e\",\n              content: \"Inscrivez-vous \\xE0 notre newsletter mensuelle !\",\n              size: \"body1\",\n              uppercase: true,\n              bold: true,\n              letterspacing: \"2px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              justify: \"center\",\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                md: 8,\n                className: classes.formGrid,\n                children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                  fullWidth: true,\n                  variant: \"outlined\",\n                  className: classes.form,\n                  children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                    htmlFor: \"outlined-adornment-amount\",\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(OutlinedInput, {\n                    value: email,\n                    onChange: function onChange(e) {\n                      return setEmail(e.target.value);\n                    },\n                    labelWidth: 60\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 21\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 19\n                }, _this), errorMessage && /*#__PURE__*/_jsxDEV(Box, {\n                  mb: 2,\n                  children: /*#__PURE__*/_jsxDEV(Text, {\n                    color: \"#e5352c\",\n                    children: errorMessage\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 43\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 41\n                }, _this), /*#__PURE__*/_jsxDEV(Box, {\n                  mt: 2,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    className: classes.btn,\n                    variant: \"outlined\",\n                    onClick: function onClick() {\n                      return handleClick();\n                    },\n                    children: \"Valider\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 21\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(FiguresSection, \"BpQ4OJiEELzk+lfOAGwyyk2YY6E=\", false, function () {\n  return [useStyles];\n});\n\n_c = FiguresSection;\nexport default FiguresSection;\n\nvar _c;\n\n$RefreshReg$(_c, \"FiguresSection\");","map":{"version":3,"sources":["/Users/adriengrampone/Documents/A&F/mobin/frontend/components/homepage/newsletter/NewsletterSection.js"],"names":["useState","Container","Grid","Box","Button","FormControl","OutlinedInput","InputLabel","makeStyles","Title","Text","createContactEmail","useStyles","theme","grid","textAlign","box","border","palette","orange","main","borderRadius","padding","backgroundColor","background","textField","color","form","marginTop","formGrid","display","flexDirection","justifyContent","btn","fontWeight","borderColor","golden","greyBox","gray","FiguresSection","classes","email","setEmail","errorMessage","setErrorMessage","validateEmail","re","test","handleClick","variables","response","alert","e","target","value"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport {\n  Container, Grid, Box, Button, FormControl, OutlinedInput, InputLabel,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Title, Text } from '../../global';\nimport { createContactEmail } from '../../../src/services/sendEmail';\n\nconst useStyles = makeStyles((theme) => ({\n  grid: {\n    textAlign: 'center',\n  },\n  box: {\n    border: `2px ${theme.palette.orange.main} solid`,\n    borderRadius: '10px',\n    padding: '2em',\n    backgroundColor: theme.palette.background.default,\n\n  },\n  textField: {\n    color: theme.palette.orange.main,\n  },\n  form: {\n    marginTop: '1em',\n  },\n  formGrid: {\n    textAlign: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n  btn: {\n    fontWeight: 'bold',\n    color: '#2699b0',\n    borderColor: theme.palette.orange.main,\n    '&:hover': {\n      backgroundColor: theme.palette.golden.main,\n      color: '#fff',\n      borderColor: theme.palette.golden.main,\n    },\n  },\n  greyBox: {\n    marginTop: '1em',\n    backgroundColor: theme.palette.gray.main,\n    borderRadius: '10px',\n    padding: '4em',\n  },\n}));\nconst FiguresSection = () => {\n  const classes = useStyles();\n  const [email, setEmail] = useState('');\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const validateEmail = (email) => {\n    const re = /\\S+@\\S+\\.\\S+/;\n    return re.test(email);\n  };\n\n  const handleClick = async () => {\n    setErrorMessage(null);\n\n    if (!validateEmail(email)) {\n      setErrorMessage('Merci de saisir une adresse email valide.');\n      return;\n    }\n\n    const variables = {\n      email,\n    };\n    const response = await createContactEmail(variables);\n\n    if (response) {\n      setEmail('');\n      alert('Votre email a été enregistré !');\n    } else {\n      alert(\"Une erreur s'est produite.\");\n    }\n  };\n\n  return (\n    <Container>\n      <Box className={classes.greyBox}>\n        <Grid container>\n          <Grid item xs={12} md={12} className={classes.grid}>\n            <Box className={classes.box}>\n              <Box mb={3}>\n                <Title color=\"#2699b0\" content=\"Vous souhaitez être tenu.e au courant des actualités du réseau ?\" size=\"h6\" bold letterspacing=\"2px\" />\n              </Box>\n              <Title color=\"#e95e2e\" content=\"Inscrivez-vous à notre newsletter mensuelle !\" size=\"body1\" uppercase bold letterspacing=\"2px\" />\n              {/* <Text center size=\"body1\" bold color=\"#e95e2e\">\n                                Inscrivez-vous à notre newsletter mensuelle !\n                            </Text> */}\n              {/* <FormControl fullWidth variant=\"outlined\" className={classes.form}>\n                                <InputLabel htmlFor=\"outlined-adornment-amount\">Email</InputLabel>\n                                <OutlinedInput\n                                    value={email}\n                                    onChange={e => setEmail(e.target.value)}\n                                    labelWidth={60}\n                                />\n                            </FormControl> */}\n              <Grid container justify=\"center\">\n                <Grid item xs={12} md={8} className={classes.formGrid}>\n                  <FormControl fullWidth variant=\"outlined\" className={classes.form}>\n                    <InputLabel htmlFor=\"outlined-adornment-amount\">Email</InputLabel>\n                    <OutlinedInput\n                      value={email}\n                      onChange={(e) => setEmail(e.target.value)}\n                      labelWidth={60}\n                    />\n                  </FormControl>\n                  {\n                                        errorMessage && (\n                                        <Box mb={2}>\n                                          <Text color=\"#e5352c\">{errorMessage}</Text>\n                                        </Box>\n                                        )\n                                    }\n\n                  <Box mt={2}>\n                    <Button\n                      className={classes.btn}\n                      variant=\"outlined\"\n                      onClick={() => handleClick()}\n                    >\n                                          Valider\n                    </Button>\n                  </Box>\n                </Grid>\n              </Grid>\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n    </Container>\n  );\n};\n\nexport default FiguresSection;\n"]},"metadata":{},"sourceType":"module"}